"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[2545],{3905:function(e,t,r){r.d(t,{Zo:function(){return c},kt:function(){return m}});var n=r(7294);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var l=n.createContext({}),p=function(e){var t=n.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},c=function(e){var t=p(e.components);return n.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var r=e.components,i=e.mdxType,a=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=p(r),m=i,h=d["".concat(l,".").concat(m)]||d[m]||u[m]||a;return r?n.createElement(h,o(o({ref:t},c),{},{components:r})):n.createElement(h,o({ref:t},c))}));function m(e,t){var r=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=r.length,o=new Array(a);o[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:i,o[1]=s;for(var p=2;p<a;p++)o[p]=r[p];return n.createElement.apply(null,o)}return n.createElement.apply(null,r)}d.displayName="MDXCreateElement"},1086:function(e,t,r){r.r(t),r.d(t,{assets:function(){return l},contentTitle:function(){return o},default:function(){return u},frontMatter:function(){return a},metadata:function(){return s},toc:function(){return p}});var n=r(3117),i=(r(7294),r(3905));const a={sidebar_label:"SKR 2 429"},o="BIGTREETECH SKR 2 w/ STM32F429",s={unversionedId:"boards/btt/skr-2-429",id:"boards/btt/skr-2-429",title:"BIGTREETECH SKR 2 w/ STM32F429",description:"This board currently cannot be flashed automatically through USB, that means all firmware updates have to be done by physically moving an sd card from and to the board for now. RatOS compiles the firmware binary for you each time klipper is updated (while the SKR 2 is connected), you can find the most recent firmware in the Mainsail Machine page under the firmware_binaries folder). Automatic flashing may be possible in the future if SDIO support is implemented in klipper. See this thread//github.com/Klipper3d/klipper/pull/4881#issuecomment-962596510 for more info.",source:"@site/docs/boards/btt/skr-2-429.md",sourceDirName:"boards/btt",slug:"/boards/btt/skr-2-429",permalink:"/docs/boards/btt/skr-2-429",draft:!1,editUrl:"https://github.com/Rat-OS/RatOS/edit/v2.x/site/docs/boards/btt/skr-2-429.md",tags:[],version:"current",frontMatter:{sidebar_label:"SKR 2 429"},sidebar:"docsSidebar",previous:{title:"Octopus Pro h723",permalink:"/docs/boards/btt/octopus-pro-h723"},next:{title:"SKR 3 EZ",permalink:"/docs/boards/btt/skr-3-ez"}},l={},p=[{value:"Wiring",id:"wiring",level:2},{value:"Firmware installation",id:"firmware-installation",level:2},{value:"I updated klipper and now i get an error!",id:"i-updated-klipper-and-now-i-get-an-error",level:2}],c={toc:p};function u(e){let{components:t,...a}=e;return(0,i.kt)("wrapper",(0,n.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"bigtreetech-skr-2-w-stm32f429"},"BIGTREETECH SKR 2 w/ STM32F429"),(0,i.kt)("admonition",{title:"Only Partial support",type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"This board currently cannot be flashed automatically through USB, that means all firmware updates have to be done by physically moving an sd card from and to the board for now. RatOS compiles the firmware binary for you each time klipper is updated (while the SKR 2 is connected), you can find the most recent firmware in the Mainsail Machine page under the ",(0,i.kt)("inlineCode",{parentName:"p"},"firmware_binaries")," folder). Automatic flashing may be possible in the future if SDIO support is implemented in klipper. See this thread: ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/Klipper3d/klipper/pull/4881#issuecomment-962596510"},"https://github.com/Klipper3d/klipper/pull/4881#issuecomment-962596510")," for more info.")),(0,i.kt)("h2",{id:"wiring"},"Wiring"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"BTT Octopus Pro STM32F429 Wiring Diagram",src:r(949).Z,width:"2324",height:"1557"}),"\n",(0,i.kt)("a",{target:"_blank",href:r(2744).Z},"Open Full Size Image")),(0,i.kt)("admonition",{type:"danger"},(0,i.kt)("mdxAdmonitionTitle",{parentName:"admonition"},"if you use the Ratrig endstop switches and cables, do ",(0,i.kt)("strong",{parentName:"mdxAdmonitionTitle"},"not")," blindly plug them in to your SKR 2 as doing this will short the board's 5V power rail."),(0,i.kt)("p",{parentName:"admonition"},"You will probably have to swap the outer two wires (red and white) on the board end of the cable but double check to make sure your cables match the wiring diagram in both ends.\nOrders shipped after October 2022 should have the correct cables (the connectors on the new cables are white).")),(0,i.kt)("admonition",{title:"Jumpers",type:"info"},(0,i.kt)("p",{parentName:"admonition"},(0,i.kt)("img",{alt:"Jumper Symbol",src:r(7731).Z,width:"40",height:"16"})," A green square with triangles inside is where you would place a jumper,\nremove all jumpers on the board that are not marked by this symbol.")),(0,i.kt)("h2",{id:"firmware-installation"},"Firmware installation"),(0,i.kt)("admonition",{title:"Use a proper cable",type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"Make sure your board is connected to the Pi ",(0,i.kt)("strong",{parentName:"p"},"via the provided USB cable")," (USB-B on the SKR 2 429, USB-A on the Pi).")),(0,i.kt)("p",null,"Follow the steps in the RatOS Configurator at ",(0,i.kt)("a",{parentName:"p",href:"http://RatOS.local/configure?step=1"},"http://RatOS.local/configure?step=1"),"."),(0,i.kt)("h2",{id:"i-updated-klipper-and-now-i-get-an-error"},"I updated klipper and now i get an error!"),(0,i.kt)("p",null,"When you update klipper you might see an error that looks like this:"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Firmware version mismatch between host and guest",src:r(262).Z,width:"849",height:"260"})),(0,i.kt)("p",null,"This is because klipper made changes to a part of the MCU firmware that we use, and the SKR 2 cannot be flashed automatically yet. Klipper is telling us that the version of klipper running on the Pi is newer than the version running on the MCU. To fix this, we have to flash the board with a new version of the firmware, Follow the steps in the RatOS Configurator at ",(0,i.kt)("a",{parentName:"p",href:"http://RatOS.local/configure?step=1"},"http://RatOS.local/configure?step=1"),"."))}u.isMDXComponent=!0},2744:function(e,t,r){t.Z=r.p+"assets/files/skr-2-429-wiring-full-7ba0d169aa9036552b8c02240700b5aa.svg"},7731:function(e,t){t.Z="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOmx1Y2lkPSJsdWNpZCIgd2lkdGg9IjQwIiBoZWlnaHQ9IjE2Ij48ZyBzdHJva2U9IiM3YWI2NDgiIHN0cm9rZS13aWR0aD0iMyIgZmlsbD0iI2ZmZiIgbHVjaWQ6cGFnZS10YWItaWQ9IjBfMCIgIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMiwgLTEyKSI+PHBhdGggZD0iTTQzLjg4IDI3Ljg2aC0yMy43VjIwLjJoMjMuN3Y3LjY2eiIvPjxwYXRoIGQ9Ik00My44OCAyMi4wNmwtMy44NCA0LjItNC4wOC00LjItMy45NCA0LjItMy45OC00LjItNCA0LjItMy44Ny00LjIiLz48L2c+PC9zdmc+"},949:function(e,t,r){t.Z=r.p+"assets/images/skr-2-429-wiring-27fa38d7a5fe0e7110712638fe97a925.svg"},262:function(e,t,r){t.Z=r.p+"assets/images/firmware_version_mismatch-456c9561ecf03b8fc5c498f42ce6a891.png"}}]);