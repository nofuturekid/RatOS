<!doctype html>
<html lang="en" dir="ltr" class="mdx-wrapper mdx-page plugin-pages plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Changelog | RatOS</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://os.ratrig.com/img/site-banner.png?bust=1"><meta data-rh="true" name="twitter:image" content="https://os.ratrig.com/img/site-banner.png?bust=1"><meta data-rh="true" property="og:url" content="https://os.ratrig.com/changelog"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Changelog | RatOS"><meta data-rh="true" name="description" content="RatOS V2.0"><meta data-rh="true" property="og:description" content="RatOS V2.0"><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://os.ratrig.com/changelog"><link data-rh="true" rel="alternate" href="https://os.ratrig.com/changelog" hreflang="en"><link data-rh="true" rel="alternate" href="https://os.ratrig.com/changelog" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="RatOS RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="RatOS Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-NQB0MHKGLP"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-NQB0MHKGLP",{anonymize_ip:!0})</script>


<link rel="search" type="application/opensearchdescription+xml" title="RatOS" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.cf206466.css">
<link rel="preload" href="/assets/js/runtime~main.d7b687fa.js" as="script">
<link rel="preload" href="/assets/js/main.a49ec328.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logos/Logo-white.svg" alt="RatOS" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logos/Logo-white.svg" alt="RatOS" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" href="/docs/introduction">Documentation</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/changelog">Changelog</a><a href="https://github.com/sponsors/miklschmidt" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Donate/Sponsor<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://discord.gg/ratrig" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/Rat-OS/RatOS" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/introduction">2.0.x</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/introduction">2.0.x</a></li><li><a class="dropdown__link" href="/docs/1.2.x/introduction">1.2.x</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/changelog">Changelog</a></li></ul></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><main class="container container--fluid margin-vert--lg"><div class="row mdxPageWrapper_j9I6"><div class="col col--8"><article><h1>Changelog</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ratos-v20">RatOS V2.0<a class="hash-link" href="#ratos-v20" title="Direct link to heading">​</a></h2><p><strong>RatOS v2 is not backwards compatible with RatOS v1, you will have to reflash your Raspberry Pi and start over with a new configuration template. Use your old printer.cfg for reference values.</strong></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="major-new-features">Major new features<a class="hash-link" href="#major-new-features" title="Direct link to heading">​</a></h3><ul><li>Now based on bullseye</li><li>The RatOS configurator will now help you flash your controlboard and toolboards, greatly simplifying installation.</li><li>Toolboards are now supported.</li><li>Stowable probes like euclid and klicky are now support.</li><li>Unified homing: everything is now handled through a single homing override. Sensorless homing now requires no tinkering with homing macros (you still need to tweak current and sensitivities). Including a stowable probe config automatically enables deploying and stowing. Axes can now use individual homing procedures, such as sensorless on X and endstops on Y.</li><li>MainsailOS has been merged which brings timelapse and crowsnest.</li><li>Preinstalled: <a href="https://github.com/worksasintended/klipper_linear_movement_analysis" target="_blank" rel="noopener noreferrer">https://github.com/worksasintended/klipper_linear_movement_analysis</a></li><li>Klipper now runs Python 3</li><li>Experimental BTT CB1 support</li><li>RatOS notifications in Mainsail.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="minor-new-features">Minor new features<a class="hash-link" href="#minor-new-features" title="Direct link to heading">​</a></h3><ul><li>A bunch of new macro variables to tweak the RatOS macros (see <a href="http://os.ratrig.com/docs/configuration/macros" target="_blank" rel="noopener noreferrer">http://os.ratrig.com/docs/configuration/macros</a>), including end park z hop, prime positions, etc etc.</li><li>Configurator now maintains klipper and moonraker extension symlinks (will automatically restore in case of a hard reset, can also be triggered automatically through the configurator actions menu at RatOS.local/configure)</li><li>Configurator now in charge of flashing all connected boards when klipper is updated.</li><li><code>START_PRINT</code> can now use the hotend to measure chamber temp. For example to wait for chamber to reach 40 degrees, use <code>START_PRINT CHAMBER_TEMP=40</code>. The bed temperature during chamber heating is configurable via the macro variable <code>variable_start_print_heat_chamber_bed_temp</code>.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="minor-changes">Minor changes<a class="hash-link" href="#minor-changes" title="Direct link to heading">​</a></h3><ul><li>Primeblob has changed sides for stowable probe support.</li><li>The toolhead now moves along the edge of the buildplate when navigating to the primeline/primeblob start position, and only lowers the nozzle when it has arrived.</li><li>config repository directory has been renamed to RatOS.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="bug-fixes">Bug fixes<a class="hash-link" href="#bug-fixes" title="Direct link to heading">​</a></h3><ul><li>IPv6 has been disabled (hopefully no more issues with RatOS.local / moonraker not working on IPv6 capable networks).</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="new-supported-printers">New supported printers<a class="hash-link" href="#new-supported-printers" title="Direct link to heading">​</a></h3><ul><li>Voron V2.4 support (Experimental)</li><li>Voron V0.1 Support (Experimental)</li><li>Prusa Mini (Experimental)</li><li>Prusa MK3S (Experimental)</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="new-supported-boards">New supported boards<a class="hash-link" href="#new-supported-boards" title="Direct link to heading">​</a></h3><ul><li>BTT Manta M8P</li><li>BTT Manta M4P</li><li>BTT Manta E3EZ</li><li>BTT SKR 3</li><li>BTT SKR 3 EZ</li><li>BTT SKR Mini E3 3.0</li><li>BTT SKRat 1.0</li><li>BTT Octopus Pro H723</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="new-supported-toolboards">New supported toolboards<a class="hash-link" href="#new-supported-toolboards" title="Direct link to heading">​</a></h3><ul><li>BTT EBB42 v1.0</li><li>BTT EBB42 v1.1</li><li>BTT EBB42 v1.2</li><li>BTT EBB36 v1.0</li><li>BTT EBB36 v1.1</li><li>BTT EBB36 v1.2</li><li>Mellow Fly SHT42 v1</li><li>Mellow Fly SHT36 v1</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="bug-fixes-1">Bug fixes<a class="hash-link" href="#bug-fixes-1" title="Direct link to heading">​</a></h3><ul><li>IPv6 has been disabled (no more issues with RatOS.local / moonraker not working on some IPv6 capable networks).</li><li>Automatic flashing is now more resilient and will detect and attempt to recover if the board gets stuck in DFU mode.</li><li>Configurator now correctly restarts on updates.</li><li>Since the initial flashing is now done via the configurator, the issues with broken firmware should now be eliminated.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ratos-v12">RatOS V1.2<a class="hash-link" href="#ratos-v12" title="Direct link to heading">​</a></h2><p>This release adds a wifi connection configurator and hotspot functionality so users no longer have to edit the wpa-supplicant files, the syntax of which has been challenging for many. The hotspot also enables printing in areas with no wifi or ethernet connectivity.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ratos-v11">RatOS V1.1<a class="hash-link" href="#ratos-v11" title="Direct link to heading">​</a></h2><p>This release mainly revolves around the new stepper/stepper driver setting recommendations from Klipper. <code>hold_current</code> has been removed, stealthchop is now entirely disabled by default, interpolation has been disabled and microsteps have been increased to 64 to counteract the additional noise. V-Minion template has now been optimized for the final hardware in the release kit. Keep reading to see the complete list of changes.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="klipperscreen">KlipperScreen<a class="hash-link" href="#klipperscreen" title="Direct link to heading">​</a></h3><ul><li>KlipperScreen now correctly installed as Pi user. This makes KlipperScreen.conf (next to your printer.cfg) work again. <strong>This change requires flashing RatOS V1.1 to your Pi.</strong></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="general">General<a class="hash-link" href="#general" title="Direct link to heading">​</a></h3><ul><li>Stepper motors, drivers and speed limits have now been made more modular, allowing for easier configuration of, for example, 48V steppers. See <a href="/docs/configuration/advanced-stepper-configuration">Advanced Stepper Configuration</a> for more information.</li><li>Driver / Stepper settings now adopt the new recommended klipper defaults. This also means that your steppers might make a bit more noise than they did before, since the stealthchop_threshold has been set to 0. You can manually set stealthchop_threshold back to 1 if that&#x27;s unacceptable to you, just be aware that it will reduce the stepper&#x27;s positional accuracy.</li><li>Rapido and Dragonfly configs added.</li><li>LGX Lite config added.</li><li>Printer templates have been improved for better organization and now includes the new stepper configurations.</li><li>SKR2 Documentation added</li><li>V-Minion printer template optimized for the release of V-Minion full kit.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="updating-from-ratos-v10">Updating from RatOS V1.0<a class="hash-link" href="#updating-from-ratos-v10" title="Direct link to heading">​</a></h3><p>Generally you don&#x27;t have to do anything to use RatOS v1.1, unless you use sensorless homing.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="sensorless-homing">Sensorless homing<a class="hash-link" href="#sensorless-homing" title="Direct link to heading">​</a></h4><p>If you are using sensorless homing, you&#x27;ll now need to remove the HOLDCURRENT parameters from you SET_TMC_CURRENT commands. This has no effect on functionality, it didn&#x27;t do anything useful before. However, if you include the new stepper configs you may have to retune your currents and sensitivity settings.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="stepper-motors">Stepper Motors<a class="hash-link" href="#stepper-motors" title="Direct link to heading">​</a></h4><p>On V-Core 3 and V-Core Pro printers using the stock 48mm steppers on all axes add <code>[include RatOS/steppers/ldo/42sth48-2504ac/2209/24v-1.6a-*.cfg]</code> (cooled drivers) or <code>[include RatOS/steppers/ldo/42sth48-2504ac/2209/24v-1.1a-*.cfg]</code> (uncooled drivers) to your USER OVERRIDES section. You can skip this step if you&#x27;re migrating your printer.cfg (see below).
If you only use the stock steppers on some axes, or want different currents, voltages etc you can include the stepper config for specific steppers like this:</p><div class="language-properties codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-properties codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token key attr-name" style="color:rgb(173, 219, 103);font-style:italic">[include</span><span class="token plain"> </span><span class="token value attr-value">RatOS/steppers/ldo/42sth48-2504ac/2209/24v-1.6a-x.cfg]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(173, 219, 103);font-style:italic">[include</span><span class="token plain"> </span><span class="token value attr-value">RatOS/steppers/ldo/42sth48-2504ac/2209/24v-1.6a-y.cfg]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(173, 219, 103);font-style:italic">[include</span><span class="token plain"> </span><span class="token value attr-value">RatOS/steppers/ldo/42sth48-2504ac/2209/24v-1.1a-z.cfg]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(173, 219, 103);font-style:italic">[include</span><span class="token plain"> </span><span class="token value attr-value">RatOS/steppers/ldo/42sth48-2504ac/2209/24v-1.1a-z1.cfg]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(173, 219, 103);font-style:italic">[include</span><span class="token plain"> </span><span class="token value attr-value">RatOS/steppers/ldo/42sth48-2504ac/2209/24v-1.1a-z2.cfg]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>These stepper specific configs have their DRIVER<!-- -->_<!-- -->*<!-- --> settings tuned for the given driver, voltage and amperage. Take a look in the config/steppers folders to see which options are available.</p><p>If you want to go back to the way it was in v1.0 (stealthchop_threshold: 1) simply add this to your user overrides section:</p><div class="language-properties codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-properties codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token key attr-name" style="color:rgb(173, 219, 103);font-style:italic">[tmc2209</span><span class="token plain"> </span><span class="token value attr-value">stepper_x]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(173, 219, 103);font-style:italic">stealthchop_threshold</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token value attr-value">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(173, 219, 103);font-style:italic">interpolate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token value attr-value">True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(173, 219, 103);font-style:italic">[tmc2209</span><span class="token plain"> </span><span class="token value attr-value">stepper_y]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(173, 219, 103);font-style:italic">stealthchop_threshold</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token value attr-value">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(173, 219, 103);font-style:italic">interpolate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token value attr-value">True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(173, 219, 103);font-style:italic">[tmc2209</span><span class="token plain"> </span><span class="token value attr-value">extruder]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(173, 219, 103);font-style:italic">interpolate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token value attr-value">True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(173, 219, 103);font-style:italic">stealthchop_threshold</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token value attr-value">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(173, 219, 103);font-style:italic">[tmc2209</span><span class="token plain"> </span><span class="token value attr-value">stepper_z]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(173, 219, 103);font-style:italic">interpolate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token value attr-value">True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(173, 219, 103);font-style:italic">stealthchop_threshold</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token value attr-value">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(173, 219, 103);font-style:italic">[tmc2209</span><span class="token plain"> </span><span class="token value attr-value">stepper_z1]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(173, 219, 103);font-style:italic">interpolate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token value attr-value">True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(173, 219, 103);font-style:italic">stealthchop_threshold</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token value attr-value">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(173, 219, 103);font-style:italic">[tmc2209</span><span class="token plain"> </span><span class="token value attr-value">stepper_z2]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(173, 219, 103);font-style:italic">interpolate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token value attr-value">True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(173, 219, 103);font-style:italic">stealthchop_threshold</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token value attr-value">1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Be aware that this comes with disadvantage of less precise motion, and it will not work at all with Fysetc and Mellow drivers.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="new-templates-optional">New Templates (Optional)<a class="hash-link" href="#new-templates-optional" title="Direct link to heading">​</a></h4><p>RatOS v1.1 comes with new improved and reorganized templates. If you want the new templates but don&#x27;t want to reflash your Pi, you can migrate manually. To do so, start by making a backup of your printer.cfg (download it, and put it somewhere safe), then replace printer.cfg with the contents of config/templates/<!-- -->[<!-- -->your-printer<!-- -->]<!-- -->-printer.template.cfg. Go through your new printer.cfg and use your old config as a reference for the values you need. You can copy / paste the klipper config block at the bottom to your new printer.cfg to retain all the settings you&#x27;ve saved via <code>SAVE_CONFIG</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ratos-v10">RatOS V1.0<a class="hash-link" href="#ratos-v10" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="updating-from-v-coreos-rc2">Updating from V-CoreOS-RC2<a class="hash-link" href="#updating-from-v-coreos-rc2" title="Direct link to heading">​</a></h3><p>Updating to RatOS v1.0 requires you to flash the SD Card in your Raspberry Pi, as well as your control board following the usual steps (has to be done manually via SD card transfer) found in the <a href="/docs/installation">Installation Section</a>. That also means that any changes you&#x27;ve made to your Raspberry Pi setup will be lost unless you make a backup first. If you want to be absolutely sure you don&#x27;t loose something, you can use a new SD card for RatOS v1.0. These are common things you&#x27;ll probably want to backup:</p><ul><li>printer.cfg (you can download this from Fluidd)</li><li>.moonraker_database/<!-- -->*<!-- --> (located in /home/pi/.moonraker_database on your Raspberry Pi. Download data.mdb and lock.mdb with SCP/WinSCP then upload them to that same location after installation of RatOS v1.0)</li><li>Any custom setup you&#x27;ve done, that isn&#x27;t replaced with native RatOS functionality.</li></ul><p>If you&#x27;re reuploading your printer.cfg from V-CoreOS-RC2 you can (optionally) add this to the bottom of printer.cfg (right above the ### USER OVERRIDES section):</p><div class="language-properties codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-properties codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">### MACRO CONFIGURATION</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(173, 219, 103);font-style:italic">[gcode_macro</span><span class="token plain"> </span><span class="token value attr-value">RatOS]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># Use relative extrusion mode</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># Set to False to use absolute extrusion mode</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(173, 219, 103);font-style:italic">variable_relative_extrusion</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token value attr-value">True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># Wait for extruder to reach 150 so an inductive probe (if present) is at a predictable temp.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># Also allows the bed heat to spread a little, and softens any plastic that might be stuck to the nozzle.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># Set to False to disable</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(173, 219, 103);font-style:italic">variable_preheat_extruder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token value attr-value">True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># Calibrate the bed mesh in the START_PRINT macro.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># Set to false to skip BED_MESH_CALIBRATE, it will still load the BED_MESH</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># with the name &quot;ratos&quot;, be sure to save your bed_mesh profile with that name.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># or override the _START_PRINT_BED_MESH macro to implement your own mesh handling logic.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(173, 219, 103);font-style:italic">variable_calibrate_bed_mesh</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token value attr-value">True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># Print a prime line at the end of the START_PRINT macro</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># set to False to disable nozzle_priming.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(173, 219, 103);font-style:italic">variable_nozzle_priming</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token value attr-value">&quot;primeline&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># Park in the back when waiting for the extruder to heat up</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># set to &quot;front&quot; to park in the front, or &quot;center&quot; to park in the center.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(173, 219, 103);font-style:italic">variable_start_print_park_in</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token value attr-value">&quot;back&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># Height to park it when waiting for extruder to heat.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(173, 219, 103);font-style:italic">variable_start_print_park_z_height</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token value attr-value">50</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># Skew profile to load before starting the print</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># uncomment this to use your calibrated skew correction profile.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">#variable_skew_profile: &quot;my_skew_profile&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># Park in the back after the print has ended or was cancelled.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># set to &quot;front&quot; to park in the front, or &quot;center&quot; to park in the center.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(173, 219, 103);font-style:italic">variable_end_print_park_in</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token value attr-value">&quot;back&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># Park in the back when the print is paused.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># set to &quot;front&quot; to park in the front, or &quot;center&quot; to park in the center.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(173, 219, 103);font-style:italic">variable_pause_print_park_in</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token value attr-value">&quot;back&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># Set the speed for travel moves in RatOS Macros in mm/s.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token key attr-name" style="color:rgb(173, 219, 103);font-style:italic">variable_macro_travel_speed</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token value attr-value">150</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If the section is not present in your printer.cfg the default values will be used. See <a href="/docs/configuration/macros">Macro Configuration</a> for information on how to use the variables.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="general-1">General<a class="hash-link" href="#general-1" title="Direct link to heading">​</a></h3><ul><li>Since the future of Fluidd is uncertain, RatOS has migrated to Mainsail.</li><li>KlipperScreen now comes preinstalled.</li><li>Picking your printer is now done via Macros on first startup.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="printers">Printers<a class="hash-link" href="#printers" title="Direct link to heading">​</a></h3><ul><li>Add V-Core Pro 1.3 support</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="boards">Boards<a class="hash-link" href="#boards" title="Direct link to heading">​</a></h3><ul><li>Firmware compilation has been automated! Firmware compilation and flashing is now attempted when the klipper repository is updated.</li><li>Fysetc Spider v1.1 support added</li><li>SKR 2 /w STM32F429 support added</li><li>Udev symlinks are now automatically updated when the ratos config is updated. That means new boards are mapped automatically.</li><li>RPi MCU added (automatically updated with klipper)</li><li>make-and-flash-mcu.sh now copies the firmware binary into a firmware_binaries folder browsable in mainsail for manual flashing via SD Card if needed.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="macros">Macros<a class="hash-link" href="#macros" title="Direct link to heading">​</a></h3><ul><li>gcode_shell_command.py has been added.</li><li>Added <code>INSTALL_VCORE_THREE_CONFIG</code>, <code>INSTALL_VCORE_PRO_CONFIG</code>, <code>INSTALL_VMINION_CONFIG</code> macro&#x27;s for initial setup.</li><li>Added COMPILE_BINARIES macro to compile binaries for all supported boards in case the user got himself into a bad situation and needs the newest firmware.</li><li>Added GENERATE_SHAPER_GRAPHS which runs resonance test and generates graphs which are placed in the <code>input_shaper</code> folder.</li><li>Macro&#x27;s now have configurable behavior, the following variables are available: <code>relative_extrusion</code>, <code>preheat_extruder</code>, <code>calibrate_bed_mesh</code>, <code>nozzle_priming</code>, <code>start_print_park_in</code>, <code>start_print_park_z_height</code>, <code>end_print_park_in</code>, <code>pause_print_park_in</code> and <code>macro_travel_speed</code>.</li><li><code>START_PRINT</code> now has 4 hooks: <code>_START_PRINT_AFTER_HEATING_BED</code>, <code>_START_PRINT_BED_MESH</code>, <code>_START_PRINT_PARK</code> and <code>_START_PRINT_AFTER_HEATING_EXTRUDER</code>. You can override these in your printer.cfg to further customize the way your <code>START_PRINT</code> macro behaves.</li><li><code>END_PRINT</code> now has 2 hooks: <code>_END_PRINT_AFTER_HEATERS_OFF</code> and <code>_END_PRINT_PARK</code>. You can override these in your printer.cfg to further customize the way your END_PRINT macro behaves.</li><li><code>END_PRINT</code> and PAUSE now moves to a safe Z distance instead of always moving the same distance which could lead to errors.</li><li><code>M600</code> is now supported.</li></ul></article></div><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#ratos-v20" class="table-of-contents__link toc-highlight">RatOS V2.0</a><ul><li><a href="#major-new-features" class="table-of-contents__link toc-highlight">Major new features</a></li><li><a href="#minor-new-features" class="table-of-contents__link toc-highlight">Minor new features</a></li><li><a href="#minor-changes" class="table-of-contents__link toc-highlight">Minor changes</a></li><li><a href="#bug-fixes" class="table-of-contents__link toc-highlight">Bug fixes</a></li><li><a href="#new-supported-printers" class="table-of-contents__link toc-highlight">New supported printers</a></li><li><a href="#new-supported-boards" class="table-of-contents__link toc-highlight">New supported boards</a></li><li><a href="#new-supported-toolboards" class="table-of-contents__link toc-highlight">New supported toolboards</a></li><li><a href="#bug-fixes-1" class="table-of-contents__link toc-highlight">Bug fixes</a></li></ul></li><li><a href="#ratos-v12" class="table-of-contents__link toc-highlight">RatOS V1.2</a></li><li><a href="#ratos-v11" class="table-of-contents__link toc-highlight">RatOS V1.1</a><ul><li><a href="#klipperscreen" class="table-of-contents__link toc-highlight">KlipperScreen</a></li><li><a href="#general" class="table-of-contents__link toc-highlight">General</a></li><li><a href="#updating-from-ratos-v10" class="table-of-contents__link toc-highlight">Updating from RatOS V1.0</a></li></ul></li><li><a href="#ratos-v10" class="table-of-contents__link toc-highlight">RatOS V1.0</a><ul><li><a href="#updating-from-v-coreos-rc2" class="table-of-contents__link toc-highlight">Updating from V-CoreOS-RC2</a></li><li><a href="#general-1" class="table-of-contents__link toc-highlight">General</a></li><li><a href="#printers" class="table-of-contents__link toc-highlight">Printers</a></li><li><a href="#boards" class="table-of-contents__link toc-highlight">Boards</a></li><li><a href="#macros" class="table-of-contents__link toc-highlight">Macros</a></li></ul></li></ul></div></div></div></main></div></div>
<script src="/assets/js/runtime~main.d7b687fa.js"></script>
<script src="/assets/js/main.a49ec328.js"></script>
</body>
</html>